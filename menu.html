<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vauleza | Cardápio</title>

  <!-- Favicon -->
  <link rel="shortcut icon" href="images/favicon.png">

  <!-- CSS -->
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <style>
    /* Estilos do Carrinho Popup */
    #openCartBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ff9800;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
      z-index: 9999;
    }

    #cartPopup {
      position: fixed;
      bottom: 70px;
      right: 20px;
      width: 320px;
      max-height: 80vh;
      background: white;
      border: 1px solid #ccc;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      padding: 15px;
      overflow-y: auto;
      display: none;
      z-index: 10000;
      border-radius: 6px;
    }

    #cartPopup .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    #cartPopup .close-btn {
      font-size: 22px;
      background: transparent;
      border: none;
      cursor: pointer;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
    }

    .cart-item-name {
      flex: 1;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .qty-btn {
      background: #ddd;
      border: none;
      padding: 3px 8px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 3px;
    }

    .qty-display {
      min-width: 20px;
      text-align: center;
      font-weight: bold;
    }

    .item-price {
      margin-left: 10px;
      font-weight: bold;
    }

    .cart-footer {
      margin-top: 15px;
      border-top: 1px solid #ccc;
      padding-top: 12px;
      text-align: right;
    }

    .cart-footer strong {
      font-size: 18px;
    }

    .checkout-btn {
      margin-top: 10px;
      background: #28a745;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
    }
  </style>
</head>

<body class="sub_page">
  <!-- Hero Area -->
  <div class="hero_area">
    <div class="bg-box">
      <img src="images/hero-bg.jpg" alt="Background do restaurante">
    </div>

    <!-- header section strats -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              Vauleza
            </span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  mx-auto ">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Inicio </a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="menu.html">Cardapio <span class="sr-only">(current)</span> </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html">Sobre</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="book.html">Localizacao</a>
              </li>
            </ul>
            <div class="user_option">
              <a href="" class="user_link">
                <i class="fa fa-user" aria-hidden="true"></i>
              </a>
              <a class="cart_link" href="#">
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029"
                  style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
                  <g>
                    <g>
                      <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
                   c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
                    </g>
                  </g>
                  <g>
                    <g>
                      <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                   C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                   c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                   C457.728,97.71,450.56,86.958,439.296,84.91z" />
                    </g>
                  </g>
                  <g>
                    <g>
                      <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
                   c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
                    </g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                  <g>
                  </g>
                </svg>
              </a>
              <form class="form-inline">
                <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit">
                  <i class="fa fa-search" aria-hidden="true"></i>
                </button>
              </form>
              <a href="" class="order_online">
                Contato
              </a>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>

  <!-- Menu Section -->
  <section class="food_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center">
        <h2>Nosso Cardápio</h2>
      </div>

      <!-- Menu Filters -->
      <ul class="filters_menu">
        <li class="active" data-filter="*">Tudo</li>
        <li data-filter=".burger">Hambúrguer</li>
        <li data-filter=".pizza">Pizza</li>
        <li data-filter=".pasta">Esfirras</li>
        <li data-filter=".fries">Batatas</li>
      </ul>

      <!-- Menu Items -->
      <div class="filters-content">
        <div class="row grid">
          <!-- Pizza Item 1 -->
          <div class="col-sm-6 col-lg-4 all pizza">
            <div class="box">
              <div class="img-box"><img src="images/f1.png" alt="Pizza A Moda"></div>
              <div class="detail-box">
                <h5>A Moda</h5>
                <p>Mussarela, calabresa, presunto, ovo, ervilha, milho verde e azeitona</p>
                <div class="options">
                  <h6>R$65</h6>
                  <a href="#" class="add-to-cart" data-name="Pizza A Moda" data-price="65.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Burger Item 1 -->
          <div class="col-sm-6 col-lg-4 all burger">
            <div class="box">
              <div class="img-box"><img src="images/f2.png" alt="Hambúrguer Delicioso"></div>
              <div class="detail-box">
                <h5>Hambúrguer Delicioso</h5>
                <p>Pão artesanal, carne 180g, queijo, alface, tomate e molho especial</p>
                <div class="options">
                  <h6>R$15</h6>
                  <a href="#" class="add-to-cart" data-name="Hambúrguer Delicioso" data-price="15.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Pizza Item 2 -->
          <div class="col-sm-6 col-lg-4 all pizza">
            <div class="box">
              <div class="img-box"><img src="images/f3.png" alt="Pizza Margherita"></div>
              <div class="detail-box">
                <h5>Pizza Margherita</h5>
                <p>Mussarela, tomate fresco, manjericão e azeite de oliva</p>
                <div class="options">
                  <h6>R$17</h6>
                  <a href="#" class="add-to-cart" data-name="Pizza Margherita" data-price="17.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Pasta Item 1 -->
          <div class="col-sm-6 col-lg-4 all pasta">
            <div class="box">
              <div class="img-box"><img src="images/f4.png" alt="Esfirra de Carne"></div>
              <div class="detail-box">
                <h5>Esfirra de Carne</h5>
                <p>Massa fina recheada com carne temperada e especiarias</p>
                <div class="options">
                  <h6>R$18</h6>
                  <a href="#" class="add-to-cart" data-name="Esfirra de Carne" data-price="18.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Fries Item 1 -->
          <div class="col-sm-6 col-lg-4 all fries">
            <div class="box">
              <div class="img-box"><img src="images/f5.png" alt="Batata Frita"></div>
              <div class="detail-box">
                <h5>Batata Frita</h5>
                <p>Porção de batata frita crocante com molhos à escolha</p>
                <div class="options">
                  <h6>R$10</h6>
                  <a href="#" class="add-to-cart" data-name="Batata Frita" data-price="10.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Pizza Item 3 -->
          <div class="col-sm-6 col-lg-4 all pizza">
            <div class="box">
              <div class="img-box"><img src="images/f6.png" alt="Pizza Calabresa"></div>
              <div class="detail-box">
                <h5>Pizza Calabresa</h5>
                <p>Mussarela, calabresa fatiada e cebola</p>
                <div class="options">
                  <h6>R$15</h6>
                  <a href="#" class="add-to-cart" data-name="Pizza Calabresa" data-price="15.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Burger Item 2 -->
          <div class="col-sm-6 col-lg-4 all burger">
            <div class="box">
              <div class="img-box"><img src="images/f7.png" alt="Hambúrguer Bacon"></div>
              <div class="detail-box">
                <h5>Hambúrguer Bacon</h5>
                <p>Pão brioche, carne 180g, queijo, bacon crocante e molho barbecue</p>
                <div class="options">
                  <h6>R$12</h6>
                  <a href="#" class="add-to-cart" data-name="Hambúrguer Bacon" data-price="12.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Burger Item 3 -->
          <div class="col-sm-6 col-lg-4 all burger">
            <div class="box">
              <div class="img-box"><img src="images/f8.png" alt="Hambúrguer Vegetariano"></div>
              <div class="detail-box">
                <h5>Hambúrguer Vegetariano</h5>
                <p>Pão integral, hambúrguer de grão-de-bico, queijo e vegetais frescos</p>
                <div class="options">
                  <h6>R$14</h6>
                  <a href="#" class="add-to-cart" data-name="Hambúrguer Vegetariano" data-price="14.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>

          <!-- Pasta Item 2 -->
          <div class="col-sm-6 col-lg-4 all pasta">
            <div class="box">
              <div class="img-box"><img src="images/f9.png" alt="Esfirra de Frango"></div>
              <div class="detail-box">
                <h5>Esfirra de Frango</h5>
                <p>Massa fina recheada com frango desfiado e especiarias</p>
                <div class="options">
                  <h6>R$10</h6>
                  <a href="#" class="add-to-cart" data-name="Esfirra de Frango" data-price="10.00"><i
                      class="fa fa-shopping-cart"></i></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="btn-box">
        <a href="#">Ver Mais</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer_section">
    <div class="container">
      <div class="row">
        <div class="col-md-4 footer-col">
          <div class="footer_contact">
            <h4>Contato</h4>
            <div class="contact_link_box">
              <a href="#"><i class="fa fa-map-marker"></i> <span>Endereço do Restaurante</span></a>
              <a href="#"><i class="fa fa-phone"></i> <span>+55 11 98765-4321</span></a>
              <a href="#"><i class="fa fa-envelope"></i> <span>contato@vauleza.com</span></a>
            </div>
          </div>
        </div>

        <div class="col-md-4 footer-col">
          <div class="footer_detail">
            <a href="index.html" class="footer-logo">Vauleza</a>
            <p>O melhor da culinária em um só lugar. Qualidade e sabor inigualáveis.</p>
            <div class="footer_social">
              <a href="#"><i class="fa fa-facebook"></i></a>
              <a href="#"><i class="fa fa-instagram"></i></a>
              <a href="#"><i class="fa fa-whatsapp"></i></a>
            </div>
          </div>
        </div>

        <div class="col-md-4 footer-col">
          <h4>Horário de Funcionamento</h4>
          <p>Segunda a Sábado</p>
          <p>11:00 - 22:00</p>
          <p>Domingo</p>
          <p>11:00 - 20:00</p>
        </div>
      </div>

      <div class="footer-info">
        <p>&copy; <span id="displayYear"></span> Vauleza - Todos os direitos reservados</p>
      </div>
    </div>
  </footer>

  <!-- Botão para abrir o carrinho -->
  <button id="openCartBtn">Carrinho (0)</button>

  <!-- Popup do carrinho -->
  <div id="cartPopup">
    <div class="cart-header">
      <h3>Meu Carrinho</h3>
      <button class="close-btn" id="closeCartBtn">&times;</button>
    </div>
    <div id="cartItems"></div>
    <div class="cart-footer">
      <strong>Subtotal: R$ <span id="cartSubtotal">0.00</span></strong>
      <br />
      <button class="checkout-btn" id="checkoutBtn" disabled>Finalizar Compra</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
  <script src="js/custom.js"></script>
  <script>
    // Objeto do carrinho: chave = nome produto, valor = { qty, price }
    const cart = {};

    // Elementos
    const openCartBtn = document.getElementById('openCartBtn');
    const cartPopup = document.getElementById('cartPopup');
    const closeCartBtn = document.getElementById('closeCartBtn');
    const cartItemsContainer = document.getElementById('cartItems');
    const cartSubtotalElem = document.getElementById('cartSubtotal');
    const checkoutBtn = document.getElementById('checkoutBtn');

    // Atualiza o botão abrir carrinho com quantidade total
    function updateCartButton() {
      const totalQty = Object.values(cart).reduce((sum, item) => sum + item.qty, 0);
      openCartBtn.textContent = `Carrinho (${totalQty})`;
    }

    // Abre/fecha carrinho popup
    function toggleCart() {
      if (cartPopup.style.display === 'block') {
        cartPopup.style.display = 'none';
      } else {
        cartPopup.style.display = 'block';
      }
    }

    // Atualiza o conteúdo do carrinho na interface
    function renderCart() {
      cartItemsContainer.innerHTML = '';

      let subtotal = 0;
      const keys = Object.keys(cart);

      if (keys.length === 0) {
        cartItemsContainer.innerHTML = '<p>Seu carrinho está vazio.</p>';
        checkoutBtn.disabled = true;
        cartSubtotalElem.textContent = '0.00';
        updateCartButton();
        return;
      }

      keys.forEach(name => {
        const item = cart[name];
        subtotal += item.price * item.qty;

        // Cria div do item
        const itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';

        itemDiv.innerHTML = `
          <div class="cart-item-name">${name}</div>
          <div class="qty-controls">
            <button class="qty-btn" data-name="${name}" data-action="decrease">-</button>
            <div class="qty-display">${item.qty}</div>
            <button class="qty-btn" data-name="${name}" data-action="increase">+</button>
            <div class="item-price">R$ ${(item.price * item.qty).toFixed(2)}</div>
          </div>
        `;

        cartItemsContainer.appendChild(itemDiv);
      });

      cartSubtotalElem.textContent = subtotal.toFixed(2);
      checkoutBtn.disabled = false;
      updateCartButton();
    }

    // Adiciona produto ao carrinho
    function addToCart(name, price) {
      if (!cart[name]) {
        cart[name] = { qty: 1, price };
      } else {
        cart[name].qty += 1;
      }
      renderCart();
    }

    // Altera quantidade do item no carrinho
    function changeQty(name, action) {
      if (!cart[name]) return;

      if (action === 'increase') {
        cart[name].qty += 1;
      } else if (action === 'decrease') {
        cart[name].qty -= 1;
        if (cart[name].qty <= 0) {
          delete cart[name];
        }
      }
      renderCart();
    }

    // Eventos

    // Botão abrir carrinho
    openCartBtn.addEventListener('click', toggleCart);

    // Botão fechar carrinho
    closeCartBtn.addEventListener('click', () => {
      cartPopup.style.display = 'none';
    });

    // Eventos para botões + e - dentro do carrinho (delegação)
    cartItemsContainer.addEventListener('click', e => {
      if (e.target.classList.contains('qty-btn')) {
        const name = e.target.dataset.name;
        const action = e.target.dataset.action;
        changeQty(name, action);
      }
    });

    // Botões adicionar produto (dos itens do cardápio)
    document.querySelectorAll('.add-to-cart').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        const name = btn.dataset.name;
        const price = parseFloat(btn.dataset.price);
        addToCart(name, price);
        // Abrir carrinho ao adicionar
        cartPopup.style.display = 'block';
      });
    });

    // Botão finalizar compra
    // Substitua o evento do botão checkout no script existente por:
    checkoutBtn.addEventListener('click', () => {
      // Salvar os dados do carrinho no localStorage
      localStorage.setItem('vaulezaCart', JSON.stringify(cart));
      localStorage.setItem('vaulezaSubtotal', cartSubtotalElem.textContent);

      // Redirecionar para a página final
      window.location.href = 'final.html';
    });

    // Inicializa
    renderCart();
  </script>
</body>

</html>